
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MM | Assignment 6</title>
  <meta name="description" content="A Simple JSON REST API for a database of scientific measurements taken at various locations.">
  <meta name="author" content="Mae Morella">
  <style>/* styles.css - by Mae Morella */
@import "https://cdn.jsdelivr.net/npm/bootstrap-reboot@4.5.4/dist/reboot.min.css";
@import "https://cdn.jsdelivr.net/gh/devicons/devicon@v2.8.2/devicon.min.css";

/* Layout */

body {
  max-width: 40em;
  margin: 0 auto;
  padding: 1rem;
}

/* Colors and dark theme */

:root {
  --font-color: #000;
  --font-shadow-color: #fff;
  --link-color: #2a70b6;
  --link-highlight-color: #0f325f;
  --bg-color: #eee;
}

[data-theme="dark"] {
  --font-color: #fff;
  --font-shadow-color: #111;
  --link-color: #cd6;
  --link-highlight-color: #ef8;
  --link-white-color: #c1bfbd;
  --bg-color: #223;
}

body {
  color: var(--font-color);
  background: var(--bg-color);
  font: 1.2rem/1.6 "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-shadow: var(--font-shadow-color) 0px 1px;
}

.color-fade {
  transition: 0.25s color, 0.25s background, 0.25s text-shadow;
}
code {
  text-shadow: initial;
}

/* Links */

a {
  color: var(--link-color);
  text-decoration: underline;
}
a:hover {
  color: var(--link-highlight-color);
}


/* Headings */

h1, h2, h3, h4, h5 {
  font-family: 'Times New Roman', Times, serif;
  /* font-style: italic; */
}

h1 {
  font-size: 3em;
    font-variant: small-caps;
  font-style: normal;
}

h2 {
  font-size: 2em;
  font-variant: small-caps;
}

h3 {
  font-size: 1.2em;
}

/* Header */

.header {
  text-align: center;
  border-bottom: 1px solid;
}

.footer {
  border-top: 1px solid;
  padding-top: 1rem;
  font-style: italic;
}

.profile-pic {
  border-radius: 100%;
  border: 1px solid;
  margin: 0 auto;
  margin-right: 1rem;
  filter: grayscale(1);
}

[data-theme="dark"] .profile-pic {
  transition: 0.25s filter;
  filter: grayscale(0);
}


.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));
  justify-content: space-evenly;
}

.list-unstyled {
  list-style: none;
  margin-left: 0;
  padding-left: 0;
}

/* Dark theme toggle */

@media only screen and (min-width: 30rem) {
  .theme-switch {
    position: fixed;
    right: 1rem;
  }
}</style>
  <style>@import url(https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css);

:root {
  --prism-font-family: "Fira Code", Menlo, monospace;
  --prism-font-size: 1rem;
  --prism-foreground: #000000;
  --prism-background: #fbfbfb;
  --prism-comment: #4a534a;
  --prism-string: #c67b5d;
  --prism-literal: #3a9c9b;
  --prism-keyword: #248459;
  --prism-function: #849145;
  --prism-deleted: #a14f55;
  --prism-class: #2b91af;
  --prism-builtin: #a52727;
  --prism-property: #ad502b;
  --prism-namespace: #c96880;
  --prism-punctuation: #8e8f8b;
  --prism-decorator: #bd8f8f;
  --prism-json-property: #698c96;
}

[data-theme="dark"] {
  --prism-scheme: dark;
  --prism-foreground: #DBE9E7;
  --prism-background: #1C1D29;
  --prism-comment: #afb4cf;
  --prism-string: #FFD76D;
  --prism-literal: #C39AC9;
  --prism-keyword: #FF657A;
  --prism-function: #BAD761;
  --prism-deleted: #a14f55;
  --prism-class: #5ebaa8;
  --prism-builtin: #BAD761;
  --prism-property: #dd8e6e;
  --prism-namespace: #c96880;
  --prism-punctuation: #9eaaa8;
  --prism-decorator: #bd8f8f;
  --prism-regex: #ab5e3f;
  --prism-json-property: #6b8b9e;
  --prism-line-number: #888888;
  --prism-line-number-gutter: #eeeeee;
  --prism-line-highlight-background: #444444;
  --prism-selection-background: #181414;
}

[class*='language-'] {
  white-space: pre-wrap !important;
}

code {
  font-family: var(--prism-font-family);
  background-color: var(--prism-background);
  display: inline-block;
}</style>
  <!-- Devicon CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.8.2/devicon.min.css">
</head>

<body>
  
<header class="header">
<h1>Assignment 6</h1>
<p class="lead">A Simple JSON REST API for a database of scientific measurements taken at various locations.</p>
<ul class="nav-links list-unstyled">
  <li><a href=".."><span title="House emoji">üè†</span> Home</a></li>
  <li><a href="https://github.com/morellam-dev/cs-4720-internet-programming/module-6"><i class="devicon-github-original" title="GitHub"></i> View code on GitHub</a></li>
</ul>
</header>

<main>
<h3>README.md</h3>
<pre class="language-md"><code class="language-md"><span class="token title important"><span class="token punctuation">#</span> measurement_server</span><br><br>A Simple JSON REST API for a database of scientific measurements taken at various locations.<br><br><span class="token title important"><span class="token punctuation">##</span> API reference</span><br><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/area`</span> <span class="token list punctuation">-</span> List all areas<br><br>Returns an array of every Area in the database.<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /area</span><br><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Grand Canyon"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Boca Raton"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Kennesaw"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Mount Hood"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Mount Rainer"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">121.5</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">46.5</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Saint Olaf"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">44</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Mount St. Helens"</span><span class="token punctuation">,</span> <span class="token property">"lat"</span><span class="token operator">:</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token property">"long"</span><span class="token operator">:</span> <span class="token number">46</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span></span><br><span class="token punctuation">```</span></span><br><br><span class="token title important"><span class="token punctuation">####</span> Area object</span><br><br><span class="token table"><span class="token table-header-row"><span class="token punctuation">|</span><span class="token table-header important"> Property  </span><span class="token punctuation">|</span><span class="token table-header important"> Type    </span><span class="token punctuation">|</span><span class="token table-header important"> Value                                   </span><span class="token punctuation">|</span><br></span><span class="token table-line"><span class="token punctuation">|</span> <span class="token punctuation">---------</span> <span class="token punctuation">|</span> <span class="token punctuation">-------</span> <span class="token punctuation">|</span> <span class="token punctuation">---------------------------------------</span> <span class="token punctuation">|</span><br></span><span class="token table-data-rows"><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`area_id`</span> </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> Id                                      </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`name`</span>    </span><span class="token punctuation">|</span><span class="token table-data"> string  </span><span class="token punctuation">|</span><span class="token table-data"> The name of the area                    </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`lat`</span>     </span><span class="token punctuation">|</span><span class="token table-data"> number  </span><span class="token punctuation">|</span><span class="token table-data"> The latitude (in degrees) of this area  </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`long`</span>    </span><span class="token punctuation">|</span><span class="token table-data"> number  </span><span class="token punctuation">|</span><span class="token table-data"> The longitude (in degrees) of this area </span><span class="token punctuation">|</span><br></span></span><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/area/&lt;area_id>/location`</span> <span class="token list punctuation">-</span> List locations in area<br><br>Returns an array of Locations which match the given <span class="token code keyword">`area_id`</span>.<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /area/1/location</span><br><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"South rim"</span><span class="token punctuation">,</span> <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"North rim"</span><span class="token punctuation">,</span> <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Phantom Ranch"</span><span class="token punctuation">,</span> <span class="token property">"alt"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token property">"area_id"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span></span><br><span class="token punctuation">```</span></span><br><br><span class="token title important"><span class="token punctuation">####</span> Location object</span><br><br><br><span class="token table"><span class="token table-header-row"><span class="token punctuation">|</span><span class="token table-header important"> Property  </span><span class="token punctuation">|</span><span class="token table-header important"> Type    </span><span class="token punctuation">|</span><span class="token table-header important"> Value                                 </span><span class="token punctuation">|</span><br></span><span class="token table-line"><span class="token punctuation">|</span> <span class="token punctuation">---------</span> <span class="token punctuation">|</span> <span class="token punctuation">-------</span> <span class="token punctuation">|</span> <span class="token punctuation">-------------------------------------</span> <span class="token punctuation">|</span><br></span><span class="token table-data-rows"><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`loc_id`</span>  </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> Unique ID                             </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`name`</span>    </span><span class="token punctuation">|</span><span class="token table-data"> string  </span><span class="token punctuation">|</span><span class="token table-data"> Name of the location                  </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`alt`</span>     </span><span class="token punctuation">|</span><span class="token table-data"> number  </span><span class="token punctuation">|</span><span class="token table-data"> Altitude (in feet??)                  </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`area_id`</span> </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> The ID of the area the location is in </span><span class="token punctuation">|</span><br></span></span><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/location/&lt;loc_id>/measurement`</span> <span class="token list punctuation">-</span> List measurements for location<br><br>Returns an array of Measurements taken in the given location.<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /location/11/measurement</span><br><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1100</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">44.82004560587978</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1101</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">38.91602608079564</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1102</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">44.178163488614025</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1103</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">46.41919904550956</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1104</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">46.345502885760894</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1105</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">43.1501772579135</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1106</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">44.31037965295677</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1107</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">41.692298340629186</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1108</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">43.28018622019225</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"m_id"</span><span class="token operator">:</span> <span class="token number">1109</span><span class="token punctuation">,</span> <span class="token property">"loc_id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token property">"val"</span><span class="token operator">:</span> <span class="token number">39.07856683302732</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span></span><br><span class="token punctuation">```</span></span><br><br><span class="token title important"><span class="token punctuation">####</span> Measurement object</span><br><br><span class="token table"><span class="token table-header-row"><span class="token punctuation">|</span><span class="token table-header important"> Property </span><span class="token punctuation">|</span><span class="token table-header important"> Type    </span><span class="token punctuation">|</span><span class="token table-header important"> Value                                                  </span><span class="token punctuation">|</span><br></span><span class="token table-line"><span class="token punctuation">|</span> <span class="token punctuation">--------</span> <span class="token punctuation">|</span> <span class="token punctuation">-------</span> <span class="token punctuation">|</span> <span class="token punctuation">------------------------------------------------------</span> <span class="token punctuation">|</span><br></span><span class="token table-data-rows"><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`m_id`</span>   </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> A unique ID for the measurement                        </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`loc_id`</span> </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> The ID of the location where the measurement was taken </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`val`</span>    </span><span class="token punctuation">|</span><span class="token table-data"> number  </span><span class="token punctuation">|</span><span class="token table-data"> The value of the measurement                           </span><span class="token punctuation">|</span><br></span></span><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/area/AREA_ID/category`</span> <span class="token list punctuation">-</span> Get categories for area<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /area/4/category</span><br><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><span class="token property">"cat_id"</span><span class="token operator">:</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Volcanos"</span><span class="token punctuation">,</span> <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Areas that are on volcanoes"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span><span class="token property">"cat_id"</span><span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"West"</span><span class="token punctuation">,</span> <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Areas that are in the west"</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span></span><br><span class="token punctuation">```</span></span><br><br><span class="token title important"><span class="token punctuation">####</span> Category object</span><br><br><span class="token table"><span class="token table-header-row"><span class="token punctuation">|</span><span class="token table-header important"> Property     </span><span class="token punctuation">|</span><span class="token table-header important"> Type    </span><span class="token punctuation">|</span><span class="token table-header important"> Value                          </span><span class="token punctuation">|</span><br></span><span class="token table-line"><span class="token punctuation">|</span> <span class="token punctuation">------------</span> <span class="token punctuation">|</span> <span class="token punctuation">-------</span> <span class="token punctuation">|</span> <span class="token punctuation">------------------------------</span> <span class="token punctuation">|</span><br></span><span class="token table-data-rows"><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`cat_id`</span>     </span><span class="token punctuation">|</span><span class="token table-data"> integer </span><span class="token punctuation">|</span><span class="token table-data"> A unique ID for this category  </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`name`</span>       </span><span class="token punctuation">|</span><span class="token table-data"> string  </span><span class="token punctuation">|</span><span class="token table-data"> The name of this category      </span><span class="token punctuation">|</span><br><span class="token punctuation">|</span><span class="token table-data"> <span class="token code keyword">`descripton`</span> </span><span class="token punctuation">|</span><span class="token table-data"> string  </span><span class="token punctuation">|</span><span class="token table-data"> A description of that category </span><span class="token punctuation">|</span><br></span></span><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/area/AREA_ID/average_measurement`</span> <span class="token list punctuation">-</span> Get the average measurement for area<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /area/1/average_measurement</span><br><span class="token number">46.26524716693247</span></span><br><span class="token punctuation">```</span></span><br><br><span class="token title important"><span class="token punctuation">###</span> </span><span class="token code keyword">`/area/AREA_ID/number_locations`</span> Get the number of locations for area<br><br><span class="token title important"><span class="token punctuation">####</span> Example usage</span><br><br><span class="token code"><span class="token punctuation">```</span><span class="token code-language">json</span><br><span class="token code-block language-json"><span class="token comment">// GET /area/1/number_locations</span><br><span class="token number">3</span></span><br><span class="token punctuation">```</span></span></code></pre>
<h3>measurement_server.py</h3>
<pre class="language-py"><code class="language-py"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<br><span class="token keyword">from</span> flask_restful <span class="token keyword">import</span> Resource<span class="token punctuation">,</span> Api<br><span class="token keyword">from</span> flask_jsonpify <span class="token keyword">import</span> jsonify<br><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> create_engine<span class="token punctuation">,</span> text<br><span class="token keyword">from</span> json <span class="token keyword">import</span> dumps<br><br>SQLITE_FILE <span class="token operator">=</span> <span class="token string">"measures.db"</span><br>SERVER_PORT <span class="token operator">=</span> <span class="token number">443</span><br><br>db_connect <span class="token operator">=</span> create_engine<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'sqlite:///</span><span class="token interpolation"><span class="token punctuation">{</span>SQLITE_FILE<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><br>app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><br>api <span class="token operator">=</span> Api<span class="token punctuation">(</span>app<span class="token punctuation">)</span><br><br><span class="token keyword">class</span> <span class="token class-name">Areas</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>text<span class="token punctuation">(</span><span class="token string">"select area_id, name, latitude as lat, longitude as long from area"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># This line performs query and returns json result</span><br>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>_fields<span class="token punctuation">)</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">AreaLocations</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> area_id<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        <span class="token comment"># This line performs query and returns json result</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><br>            text<span class="token punctuation">(</span><span class="token string">"select location_id as loc_id, name, altitude as alt, location_area as area_id from location where location_area = %d"</span> <span class="token operator">%</span><span class="token builtin">int</span><span class="token punctuation">(</span>area_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>_fields<span class="token punctuation">)</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">LocationMeasurements</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> loc_id<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        <span class="token comment"># This line performs query and returns json result</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><br>            text<span class="token punctuation">(</span><span class="token string">"select measurement_id as m_id, measurement_location as loc_id, value as val from measurement where measurement_location = %d"</span> <span class="token operator">%</span> <span class="token builtin">int</span><span class="token punctuation">(</span>loc_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>_fields<span class="token punctuation">)</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">AreaCategories</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> area_id<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        <span class="token comment"># This line performs query and returns json result</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><br>            text<span class="token punctuation">(</span><span class="token string">"SELECT category_id AS cat_id, name, description FROM category WHERE category_id IN (SELECT category_id FROM category_area WHERE area_id = %d)"</span> <span class="token operator">%</span> <span class="token builtin">int</span><span class="token punctuation">(</span>area_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>row<span class="token punctuation">.</span>_fields<span class="token punctuation">)</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">AreaAverageMeasurement</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> area_id<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        <span class="token comment"># This line performs query and returns json result</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><br>            text<span class="token punctuation">(</span><span class="token string">"SELECT AVG(value) AS avg FROM measurement WHERE measurement_location IN (SELECT location_id FROM location WHERE location_area = %d)"</span> <span class="token operator">%</span> <span class="token builtin">int</span><span class="token punctuation">(</span>area_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"avg"</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">AreaNumberLocations</span><span class="token punctuation">(</span>Resource<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> area_id<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">with</span> db_connect<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span><br>        <span class="token comment"># This line performs query and returns json result</span><br>        result <span class="token operator">=</span> conn<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><br>            text<span class="token punctuation">(</span><span class="token string">"SELECT COUNT(*) AS count FROM location WHERE location_area = %d"</span> <span class="token operator">%</span> <span class="token builtin">int</span><span class="token punctuation">(</span>area_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"count"</span><span class="token punctuation">]</span><br><br><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>Areas<span class="token punctuation">,</span> <span class="token string">'/area'</span><span class="token punctuation">)</span><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>AreaLocations<span class="token punctuation">,</span> <span class="token string">'/area/&lt;area_id>/location'</span><span class="token punctuation">)</span><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>LocationMeasurements<span class="token punctuation">,</span> <span class="token string">'/location/&lt;loc_id>/measurement'</span><span class="token punctuation">)</span><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>AreaCategories<span class="token punctuation">,</span> <span class="token string">'/area/&lt;area_id>/category'</span><span class="token punctuation">)</span><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>AreaAverageMeasurement<span class="token punctuation">,</span> <span class="token string">'/area/&lt;area_id>/average_measurement'</span><span class="token punctuation">)</span><br>api<span class="token punctuation">.</span>add_resource<span class="token punctuation">(</span>AreaNumberLocations<span class="token punctuation">,</span> <span class="token string">'/area/&lt;area_id>/number_locations'</span><span class="token punctuation">)</span><br><br><br><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>port<span class="token operator">=</span>SERVER_PORT<span class="token punctuation">)</span><br></code></pre>

</main>
  <footer class="footer">
    <p>Copyright ¬© 2021 Mae Morella</p>
  </footer>
  <script>// "Dark/Light Mode Switch with CSS Variables" by Ananya Neogi
// https://dev.to/ananyaneogi/create-a-dark-light-mode-switch-with-css-variables-34l8

//determines if the user has a set theme
function detectColorScheme() {
  var theme = "light"; //default to light

  //local storage is used to override OS theme settings
  if (localStorage.getItem("theme")) {
    if (localStorage.getItem("theme") == "dark") {
      var theme = "dark";
    }
  } else if (!window.matchMedia) {
    //matchMedia method not supported
    return false;
  } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
    //OS theme setting detected as dark
    var theme = "dark";
  }

  //dark theme preferred, set document with a `data-theme` attribute
  if (theme == "dark") {
    document.documentElement.setAttribute("data-theme", "dark");
  }
}
detectColorScheme();

const toggleSwitchLabel = document.createElement("label");
toggleSwitchLabel.id = "theme-switch"
toggleSwitchLabel.className = "theme-switch"
toggleSwitchLabel.setAttribute("for", "checkbox_theme")
toggleSwitchLabel.innerHTML = `<input type="checkbox" id="checkbox_theme"> Toggle dark mode`
document.body.prepend(toggleSwitchLabel);

//identify the toggle switch HTML element
const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

//function that changes the theme, and sets a localStorage variable to track the theme between page loads
function switchTheme(e) {
  document.body.classList.add("color-fade");
  // toggleSwitch.disabled = true;
  // setTimeout(() => { toggleSwitch.disabled = false }, 250)
  if (e.target.checked) {
    localStorage.setItem('theme', 'dark');
    document.documentElement.setAttribute('data-theme', 'dark');
    e.target.checked = true;
  } else {
    localStorage.setItem('theme', 'light');
    document.documentElement.setAttribute('data-theme', 'light');
    e.target.checked = false;
  }
}

//listener for changing themes
toggleSwitch.addEventListener('change', switchTheme, false);

//pre-check the dark-theme checkbox if dark-theme is set
if (document.documentElement.getAttribute("data-theme") == "dark") {
  toggleSwitch.checked = true;
}</script>
</body>

</html>